---
title: "反卷数学局 - 变分法的奇妙冒险1"
description: "本篇学习笔记主要讲述泛函的概念，变分法的基本引理以及欧拉-拉格朗日方程的证明过程，简单易懂，轻松上大分！"
date: 2025-05-27T10:12:27.015Z
category: "泛函分析"
tags: ["欧拉-拉格朗日方程","变分法","拉格朗日乘子法","泛函"]
draft: false
---

好的，各位听众朋友们，欢迎来到我们的“数学真好玩，骗你的！”特别节目！

**【开场音乐，欢快活泼】**

**阿陈：** 大家好，我是你们的老朋友阿陈，一个试图证明数学其实没那么可怕的数学博士。

**小琦：** 大家好，我是小琦！一个听到“数学”两个字就开始打哈欠，看到公式就两眼发直的纯种数学菜鸡！阿陈博士，今天你又要给我“科普”啥高深莫测的东西了？我先声明，我的CPU有限，随时可能烧掉哦！

**阿陈：** 哈哈哈，小琦你太逗了。放心，今天我们聊的这个东西，虽然听起来“高大上”，叫**变分法**，但我们会用最接地气的方式来探索。保证不烧CPU，顶多让它微微发热，感受到知识的温暖。

**小琦：** 变分法？听起来像是某种武林秘籍的名字？“变分神功，天下无敌！”这种？

**阿陈：** 哎，你还真说对了一半！它确实是解决一类“武林难题”的秘籍。你想啊，我们以前学微积分，求个函数的最小值，比如 $f(x) = x^2$，求导等于 $2x$，令它为零，就知道 $x=0$ 是最小值点。这里我们找的是一个“点”。

**小琦：** 嗯嗯，这个我懂，就是找山谷的最低点嘛！

**阿陈：** 没错！但如果问题变成：从你家到奶茶店，怎么走路径最短？

**小琦：** 那肯定是直线啊！用脚指头想都知道！除非路上有家新开的甜品店，那我可能得绕个弯……

**阿陈：** 哈哈，吃货本质暴露了啊！但你看，这里我们找的就不是一个“点”了，而是一条“路径”，也就是一个函数 $y(x)$。再比如，物理学家很喜欢问，一个东西从A点到B点，怎么运动才能让某个量最小，比如时间最短（最速降线问题），或者消耗的能量最少（最小作用量原理）。这些问题，我们优化的对象不再是一个数，而是一个函数本身！这种“函数的函数”，我们就叫它**泛函 (Functional)**。

**小琦：** 函……函数的函数？套娃呢这是？听着就头大。

**阿陈：** 别急，举个例子。比如连接两点 $(x_1, y_1)$ 和 $(x_2, y_2)$ 的曲线 $y(x)$，它的长度 $S$ 就是一个泛函，可以写成 $S[y(x)] = \int_{x_1}^{x_2} \sqrt{1 + (y'(x))^2} dx$。你看，这个 $S$ 的值，取决于你选的是哪条曲线 $y(x)$。

**小琦：** 哦……好像有点感觉了。就是说，输入一条线，它吐出一个数字，比如线的长度。

**阿陈：** 完全正确！变分法，就是研究这种泛函怎么取到极值（最大或最小）的学问。而要解开这类问题的“万能钥匙”，就是大名鼎鼎的**欧拉-拉格朗日方程**。不过，在请出这位“方程大神”之前，我们得先认识一下它的“开路先锋”——**变分法基本引理 (Fundamental Lemma of Calculus of Variations)**。

**小琦：** 又来一个“引理”！是不是数学家都喜欢先搞一堆听不懂的引理，然后再放大招？

**阿陈：** 哈哈，这个引理可是“倚天剑”级别的！它的内容是这样的：如果有一个函数 $f(x)$，它在区间 $[a, b]$ 上连续，并且对于 *任何* 满足特定条件的光滑函数 $\eta(x)$（读作 'eta'），都有 $\int_a^b f(x) \eta(x) dx = 0$ 成立，那么我们就能断定，$f(x)$ 在整个区间上必须恒等于零，也就是 $f(x) \equiv 0$。

**小琦：** 等等，阿陈博士，这个 $\eta(x)$ 是何方神圣？“特定条件”又是什么条件啊？

**阿陈：** 问到点子上了！这个 $\eta(x)$ 我们叫它“测试函数”或者“变分函数”。它的“特定条件”通常是：
1.  它在区间 $[a,b]$ 上足够光滑，比如连续可微。
2.  它在区间的两个端点处必须取值为零，也就是 $\eta(a) = 0$ 且 $\eta(b) = 0$。

**小琦：** 哦，就是说，这个 $\eta(x)$ 像个两头被钉死在地上，中间可以随便鼓包的小土丘？

**阿陈：** 哎，这个比喻很形象！你想想，如果 $f(x)$ 不是到处都为零，比如说在某一点 $x_0$ 它不等于零，比如 $f(x_0) > 0$。因为 $f(x)$ 连续嘛，所以在 $x_0$ 附近一小块地方，它肯定也大于零。

**小琦：** 嗯，可以理解，水涨船高嘛。

**阿陈：** 这时候，我就能专门为你这个 $f(x)$ “量身定做”一个 $\eta(x)$。让这个 $\eta(x)$ 也在 $x_0$ 附近那一小块地方大于零，而在其他地方都等于零。就像你说的，一个只在 $x_0$ 附近鼓起来的小土丘。

**小琦：** 然后呢？这个小土丘能干啥？

**阿陈：** 你看啊， $f(x)$ 在那块是正的，我构造的 $\eta(x)$ 也在那块是正的，它俩一乘，$f(x)\eta(x)$ 在那一小块地方不就也是正的了吗？其他地方 $\eta(x)$ 是零，所以 $f(x)\eta(x)$ 也是零。

**小琦：** 嗯……所以呢？

**阿陈：** 所以积分 $\int_a^b f(x)\eta(x)dx$ 的结果，就等于那个正的函数 $f(x)\eta(x)$ 在那个小土丘区域的积分。一个正的函数在一段区间上的积分，结果肯定是……

**小琦：** 正数！我抢答！

**阿陈：** 聪明！但这就跟引理的前提条件 $\int_a^b f(x)\eta(x)dx = 0$ 矛盾了！

**小琦：** 哎呀！矛盾了！所以一开始假设 $f(x)$ 不恒为零是错的？所以 $f(x)$ 必须乖乖地等于零？

**阿陈：** 完全正确！这就是反证法的威力。这个引理的关键就在于“任意的” $\eta(x)$。正是因为 $\eta(x)$ 可以是任何满足条件的小土丘、小山谷，所以 $f(x)$ 除非自己是“一马平川的零”，否则总能被一个合适的 $\eta(x)$ “揪出来”让积分不为零。

**小琦：** 哇，这个引理听起来有点霸道总裁范儿啊！“不管你怎么蹦跶（$\eta(x)$），想让我（积分）为零，除非你自己（$f(x)$）先归零！”

**阿陈：** 哈哈，这个解读满分！好了，手握这把“倚天剑”，我们终于可以去推导大名鼎鼎的欧拉-拉格朗日方程了！准备好了吗？

**小琦：** 来吧！我已经预感到我的CPU要开始升温了！

**阿陈：** 我们的目标是找到一个函数 $y(x)$，它经过固定的起点 $(a, y_A)$ 和终点 $(b, y_B)$，并且能让某个泛函 $J[y] = \int_a^b L(x, y(x), y'(x)) dx$ 取到极值。这里的 $L(x, y, y')$ 叫**拉格朗日量**，它是一个关于 $x, y$ 和 $y$ 的导数 $y'$ 的已知函数。

**小琦：** 等等，$y$ 和 $y'$ 我认识，$x$ 是自变量。这个 $L$ 是个啥具体的东西？

**阿陈：** 它可以有很多形式。比如我们之前说的路径长度，它的 $L$ 就是 $\sqrt{1 + (y')^2}$。在物理里，它可能代表动能减去势能，等等。现在，假设我们已经找到了那个最优的函数，叫它 $y_0(x)$。

**小琦：** 找到了？那不就完事了？还推导啥方程？

**阿陈：** 哈哈，我们是假设找到了，目的是看看这个 $y_0(x)$ 应该满足什么条件。接下来是关键一步，我们对这个 $y_0(x)$ 做一点点“微扰”。我们构造一个新的函数 
$$
y(x, \epsilon) = y_0(x) + \epsilon \eta(x)
$$

**小琦：** 又是 $\eta(x)$！这个小土丘阴魂不散啊！$\epsilon$ (epsilon) 是什么？希腊字母？听着就高级！

**阿陈：** $\epsilon$ 是一个很小的实数。你看，当 $\epsilon=0$ 的时候，$y(x,0)$ 就是 $y_0(x)$，我们的最优解。而且，因为我们选的 $\eta(x)$ 满足 $\eta(a)=0$ 和 $\eta(b)=0$，所以不管 $\epsilon$ 多小，这个新的 $y(x, \epsilon)$ 始终通过起点和终点，即 $y(a, \epsilon) = y_A$ 且 $y(b, \epsilon) = y_B$。它就像是在最优路径 $y_0(x)$ 旁边的一条“邻居路径”。

**小琦：** 哦，就是说 $y_0(x)$ 是正道的光，然后 $y_0(x) + \epsilon \eta(x)$ 就是在正道的光旁边稍微“皮”一下的路径，但起点终点不变。

**阿陈：** 非常形象！现在我们把这个“皮一下”的路径代入泛函 $J$ 中，得到一个只跟 $\epsilon$ 有关的普通函数 $\Phi(\epsilon) = J[y_0 + \epsilon \eta]$。因为 $y_0(x)$ 是最优路径，所以 $\Phi(\epsilon)$ 在 $\epsilon=0$ 的时候肯定取极值。那么，根据我们大一微积分的知识，可导函数取极值的地方，它的一阶导数必须是……

**小琦：** 零！这个我知道！

**阿陈：** 没错！所以我们有 $\frac{d\Phi}{d\epsilon} \Big|_{\epsilon=0} = 0$。这个导数，也叫泛函的**一阶变分**，记作 $\delta J$。

**小琦：** 接下来是不是就要对那个复杂的积分求导了？想想都头皮发麻。

**阿陈：** 深呼吸！我们可以把求导符号放到积分里面去（在一定条件下是可以的）：
$$
\frac{d\Phi}{d\epsilon} = \int_a^b \frac{d}{d\epsilon} L(x, y_0 + \epsilon \eta, y_0' + \epsilon \eta') dx
$$
然后用链式法则对 $L$ 求导。令 $Y = y_0 + \epsilon \eta$ 和 $Y' = y_0' + \epsilon \eta'$，那么: 
$$
\frac{dL}{d\epsilon} = \frac{\partial L}{\partial Y} \frac{\partial Y}{\partial \epsilon} + \frac{\partial L}{\partial Y'} \frac{\partial Y'}{\partial \epsilon}
$$
我们知道 $\frac{\partial Y}{\partial \epsilon} = \eta(x)$ 还有 $\frac{\partial Y'}{\partial \epsilon} = \eta'(x)$。

**小琦：** 等等，$\frac{\partial Y'}{\partial \epsilon}$ 怎么会是 $\eta'(x)$？哦哦，因为 $y_0'$ 对 $\epsilon$ 求导是0，$\epsilon \eta'$ 对 $\epsilon$ 求导是 $\eta'$，明白了！

**阿陈：** 非常棒！所以 $\frac{dL}{d\epsilon} = \frac{\partial L}{\partial Y} \eta(x) + \frac{\partial L}{\partial Y'} \eta'(x)$。
现在令 $\epsilon=0$，那么 $Y$ 就变回 $y_0$，$Y'$ 就变回 $y_0'$。于是，极值条件 $\frac{d\Phi}{d\epsilon} \Big|_{\epsilon=0} = 0$ 就变成了（为了简洁，我们暂时省略 $L$ 的自变量 $(x, y_0, y_0')$）：
$$
\int_a^b \left( \frac{\partial L}{\partial y} \eta(x) + \frac{\partial L}{\partial y'} \eta'(x) \right) dx = 0
$$

**小琦：** 阿陈博士，这个式子里有 $\eta(x)$ 还有它的导数 $\eta'(x)$ 哎！我们的“倚天剑”（基本引理）好像只能对付只有 $\eta(x)$ 的情况吧？这可咋办？

**阿陈：** 问得好！这时候就需要另一个数学大杀器登场了——**分部积分大法 (integration by parts)**！还记得公式吗？ $\int u dv = uv - \int v du$。

**小琦：** 呃……好像有点印象，又好像忘了……就是那个“前乘后积减积后导前”之类的？

**阿陈：** 差不多是那个意思！我们对包含 $\eta'(x)$ 的那项 $\int_a^b \frac{\partial L}{\partial y'} \eta'(x) dx$ 使用分部积分。
令 $u = \frac{\partial L}{\partial y'}$，$dv = \eta'(x) dx$。那么 
$$
du = \frac{d}{dx}\left(\frac{\partial L}{\partial y'}\right) dx，v = \eta(x)
$$
所以:
$$
\int_a^b \frac{\partial L}{\partial y'} \eta'(x) dx = \left[ \frac{\partial L}{\partial y'} \eta(x) \right]_a^b - \int_a^b \eta(x) \frac{d}{dx}\left(\frac{\partial L}{\partial y'}\right) dx
$$

**小琦：** 哇，公式好长！那个方括号带上标下标的是什么意思来着？

**阿陈：** 那是表示把 $x=b$ 的值减去 $x=a$ 的值。也就是 $\frac{\partial L}{\partial y'}(x=b) \eta(b) - \frac{\partial L}{\partial y'}(x=a) \eta(a)$。现在，小琦，回忆一下我们对 $\eta(x)$ 的要求是什么？

**小琦：** 哦！我想起来了！$\eta(a) = 0$ 还有 $\eta(b) = 0$！那个两头被钉死的小土丘！

**阿陈：** 完全正确！所以这一整块边界项 $\left[ \frac{\partial L}{\partial y'} \eta(x) \right]_a^b$ 就等于……

**小琦：** 等于零！因为它乘以了零！哇，这个条件好关键啊！不然就多出来一坨东西了！

**阿陈：** 没错！这就是 $\eta(x)$ 边界条件的神奇之处。所以，原来的积分方程就变成了：
$$
\int_a^b \frac{\partial L}{\partial y} \eta(x) dx - \int_a^b \eta(x) \frac{d}{dx}\left(\frac{\partial L}{\partial y'}\right) dx = 0
$$
把 $\eta(x)$ 提出去，就得到：
$$
\int_a^b \left( \frac{\partial L}{\partial y} - \frac{d}{dx}\left(\frac{\partial L}{\partial y'}\right) \right) \eta(x) dx = 0
$$

**小琦：** 哎哎哎！这个形式我认得！这不就是 $\int_a^b (\text{一坨东西}) \cdot \eta(x) dx = 0$ 吗？“一坨东西”就是那个括号里的 
$$
\frac{\partial L}{\partial y} - \frac{d}{dx}\left(\frac{\partial L}{\partial y'}\right)
$$

**阿陈：** 恭喜你，小琦！你已经看到了胜利的曙光！现在，我们的“倚天剑”——变分法基本引理，可以闪亮登场了！既然这个积分对于 *任意的* 满足条件的 $\eta(x)$ 都等于零，那么根据引理，括号里的那“一坨东西”必须……

**小琦：** 必须恒等于零！

**阿陈：** 宾果！所以我们就得到了：
$\frac{\partial L}{\partial y} - \frac{d}{dx}\left(\frac{\partial L}{\partial y'}\right) = 0$
这就是传说中的**欧拉-拉格朗日方程**！

**小琦：** 哇塞！就这么出来了？感觉像变魔术一样！从一个积分等于零，最后变出来一个微分方程！这个方程看起来还挺简洁的嘛！

**阿陈：** 是的，它通常是一个二阶常微分方程。只要我们知道了拉格朗日量 $L(x, y, y')$ 的具体形式，把偏导数算出来，代进去，就能得到一个关于 $y(x)$ 的方程。解出这个方程，再用上边界条件 $y(a)=y_A, y(b)=y_B$，就能找到那条“最优路径”的候选者了。

**小琦：** 听起来好厉害！那我们最开始说的“两点之间直线最短”，也能用这个方程算出来吗？

**阿陈：** 当然可以！我们来试试。路径长度的泛函是 $S[y] = \int_{x_1}^{x_2} \sqrt{1 + (y')^2} dx$。所以拉格朗日量 $L(x, y, y') = \sqrt{1 + (y')^2}$。
首先，$\frac{\partial L}{\partial y}$ 是多少？

**小琦：** $L$ 里面好像没有单独的 $y$ 啊，只有 $y'$。那对 $y$ 求偏导就是……零？

**阿陈：** 完全正确！接下来是 $\frac{\partial L}{\partial y'}$。这个得用链式法则了。$( (1+(y')^2)^{1/2} )'$。

**小琦：** 让我想想……是 $\frac{1}{2} (1+(y')^2)^{-1/2} \cdot (2y')$，对吧？化简一下就是 $\frac{y'}{\sqrt{1+(y')^2}}$。

**阿陈：** 非常棒！小琦你很有数学天赋嘛！现在代入欧拉-拉格朗日方程 $\frac{\partial L}{\partial y} - \frac{d}{dx}\left(\frac{\partial L}{\partial y'}\right) = 0$：
$0 - \frac{d}{dx}\left(\frac{y'}{\sqrt{1 + (y')^2}}\right) = 0$
也就是说 $\frac{d}{dx}\left(\frac{y'}{\sqrt{1 + (y')^2}}\right) = 0$。

**小琦：** 一个东西对 $x$ 求导等于零，说明这个东西本身是个……常数！我记得这个！

**阿陈：** 没错！所以 $\frac{y'}{\sqrt{1 + (y')^2}} = C$ (某个常数 $C$)。
两边平方一下：$\frac{(y')^2}{1 + (y')^2} = C^2$。
整理一下，
$$
(y')^2 = C^2(1+(y')^2) = C^2 + C^2(y')^2
$$
所以 $(y')^2 (1 - C^2) = C^2$，得到 $(y')^2 = \frac{C^2}{1 - C^2}$。
因为右边一堆 $C$ 都是常数，所以 $(y')^2$ 是个常数。那么 $y'$ 本身也是个常数，我们叫它 $m$ 吧。

**小琦：** $y' = m$？一个函数的导数是常数 $m$，那这个函数 $y(x)$ 就是……$mx + b$！一次函数！一条直线！

**阿陈：** 完美！你看，我们就用变分法和欧拉-拉格朗日方程证明了两点之间直线最短！

**小琦：** 哇！虽然我早就知道答案是直线，但是用这么一套“高大上”的方法推出来，感觉自己智商都提升了！好像突然理解了数学家们的乐趣！

**阿陈：** 哈哈，这就是数学的魅力之一。它能用一套普适的逻辑工具，去解决各种看似不同的问题。

**小琦：** 阿陈博士，回顾一下，我觉得那个**基本引理**真的好关键啊！没有它，我们最后得到 $\int (\dots) \eta(x) dx = 0$ 之后就卡住了，就不能说括号里的东西等于零。

**阿陈：** 对！基本引理是连接“积分性质”和“函数局部性质”的桥梁。还有那个**微扰**的思想，通过 $y_0(x) + \epsilon \eta(x)$ 把泛函极值问题变成了普通函数求导问题，这也是一种非常常见的数学策略。

**小琦：** 还有那个**分部积分**！简直是神来之笔！一下子就把讨厌的 $\eta'(x)$ 给处理掉了，还顺便利用了 $\eta(x)$ 的边界条件把边界项消为零！太巧妙了！

**阿陈：** 你总结得非常好！这些都是变分法推导中的核心思想和技巧。它们不仅仅是数学工具，更体现了一种解决问题的智慧。

**小琦：** 比如那个“任意性”，一开始我觉得 $\eta(x)$ 随便取好麻烦，但正是因为它的“任意性”，才能逼得 $f(x)$ 必须为零。这就像警察查案，如果只有一个线索，可能指向很多人；但如果有很多很多看似不相关的线索（任意的 $\eta(x)$），最后都指向同一个人（$f(x) \equiv 0$），那基本就实锤了！

**阿陈：** 这个比喻太生动了！确实是这样。变分法基本引理就是数学里的“神探夏洛克”。

**小琦：** 话说回来，阿陈博士，这个欧拉-拉格朗日方程，除了能证明两点间直线最短，还能干嘛？总不能费这么大劲就为了这个吧？

**阿陈：** 当然不止！物理学里很多基本定律，比如牛顿第二定律，麦克斯韦方程组（的某种形式），都可以从某个“最小作用量原理”通过欧拉-拉格朗日方程推导出来。它在光学里能推导出光的传播路径（费马原理），在几何里能找到曲面上的最短路径（测地线），在工程控制理论里也有广泛应用。可以说，它是理论物理和许多工程分支的基石之一。

**小琦：** 哇！这么厉害！听起来像是打通了任督二脉，可以用一个方程统一好多东西！

**阿陈：** 可以这么理解。它提供了一个统一的框架来处理各种优化问题，只要你能把问题表述成某个拉格朗日量的泛函极值形式。

**小琦：** 我感觉今天我的CPU虽然有点烫，但是好像真的学到了一点东西！至少下次有人跟我提“欧拉-拉格朗日”，我不会以为是哪个欧洲的厨子发明的新菜谱了！

**阿陈：** 哈哈哈！这就很好了！数学学习就是这样，一点点积累，慢慢就会发现它的美妙之处。变分法还有很多更深入的内容，比如处理高阶导数的拉格朗日量，多个未知函数的情况，或者带约束条件的变分问题，甚至是多重积分的泛函，那些会导出偏微分方程形式的欧拉-拉格朗日方程。

**小琦：** 打住打住！阿陈博士！今天的信息量已经够我消化一周了！再说下去我真的要蓝屏了！

**阿陈：** 哈哈，好的好的，今天就到这里。希望各位听众朋友们也能从我们轻松（小琦：哪里轻松了！）的讨论中，对变分法这个强大的工具有一个初步的认识。

**小琦：** 嗯！虽然过程有点“艰辛”，但结果还是挺酷的！感谢阿陈博士的耐心讲解！也感谢各位听众朋友们坚持到现在还没换台！

**阿陈：** 别忘了，数学也可以很好玩，只要你找到正确的打开方式！

**小琦：** 前提是旁边有个像阿陈博士一样会“翻译”的大神！

**【结束音乐淡入】**

**阿陈：** 感谢收听本期“数学真好玩，骗你的！”我们下期再见！

**小琦：** 拜拜～我去给我的CPU降降温了！

**【音乐渐强结束】**